{
  "meta": {
    "project": "MMW Hubix - School Information Portal",
    "date": "2025-10-20",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "MMW Hubix is a modern, centralized school information portal designed for C.C.C. Mong Man Wai College. It consolidates essential resources, announcements, and IT administrative tools into a unified web platform serving students, teachers, and IT prefects with role-based access.",
  "core_goals": [
    "Provide a unified, modern web platform replacing legacy IT Prefect sites",
    "Offer comprehensive public access to school resources, announcements, and an AI chat assistant without login",
    "Facilitate internal IT prefect management with dashboards, calendars, training resources, and event management",
    "Implement robust role-based authentication and authorization (ADMIN, HELPER, GUEST)",
    "Provide an efficient admin console for user, content, category, and system settings management",
    "Ensure responsive, accessible, and intuitive user experience across devices",
    "Maintain high security, data integrity, and performance via modern tools and best practices"
  ],
  "key_features": [
    "Public Resource Hub with dynamic category management, smart search, click tracking, and animated UI",
    "AI Chat Assistant for campus navigation and IT support with floating button and engaging chat panel",
    "Club Announcements system with RSVP, attendance tracking, and animated progress bars",
    "IT Prefect internal dashboard with team info, internal calendar, training libraries, and task management",
    "Full user profile and password management with current password verification and preferences",
    "Admin Console for user account management (batch updates, undo/redo), category management, article CMS with SEO, and system-wide settings",
    "Role-based protected routes and session management using NextAuth.js username-based authentication",
    "Real-time notifications and toast alerts for user engagement",
    "File upload system with validation and secure storage",
    "Dark/light theme system supporting persistence and system preference detection",
    "Global error handling, loading states, and smooth page transitions for improved UX"
  ],
  "user_flow_summary": [
    "Public users can access the Resource Hub, Club Announcements, and AI Chat without login, searching and browsing resources with dynamic filters and animations",
    "Authenticated IT prefect users log in with username-based credentials, managing their profile, viewing dashboards with team info, calendars, and training resources",
    "Admins access the Admin Console to manage users, assign roles, create and modify categories, manage articles, and configure site-wide settings in real-time",
    "Users utilize protected routes with role-based permissions, logging in and out via secure authentication mechanisms",
    "Users update personal information, change passwords securely, and customize preferences via their profile page",
    "Admins perform batch user updates and deletions, with undo/redo support, as well as manage category icons, colors, and sorting for resource organization",
    "All users receive real-time notifications and toast messages for system updates and alerts"
  ],
  "validation_criteria": [
    "All API endpoints implement role-based permission checks and return appropriate HTTP status codes",
    "Username-based login, logout, and session persistence verified with NextAuth.js and middleware protecting routes",
    "Resource Hub categories and resources render correctly, with filtering and click analytics functioning as expected",
    "Admin interfaces support full CRUD operations with form validation and error handling",
    "User profile updates and password changes require current password verification and validate with Zod schemas",
    "AI Chat Assistant connects properly to backend and reacts to user queries with smooth UI animations",
    "Database migrations applied cleanly with Prisma; seeded data appears correctly in UI",
    "Responsive design tested across desktop, tablet, and mobile devices ensuring usability and accessibility",
    "Error boundaries and fallback UI operate correctly under simulated failure scenarios",
    "Performance optimizations such as caching and loading states function without errors"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 15 (App Router)",
      "React 18",
      "Prisma ORM",
      "MySQL Database",
      "NextAuth.js (Username-based)",
      "Tailwind CSS",
      "shadcn/ui",
      "Zod Validation",
      "React Hook Form",
      "Recharts",
      "SWR",
      "Framer Motion",
      "Playwright (Testing)"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Username-based authentication with role-based access control (ADMIN, HELPER, GUEST). Includes login, logout, session management, and protected routes.",
        "files": [
          "auth.ts",
          "components/auth/login-form.tsx",
          "components/auth/logout-button.tsx",
          "components/auth/protected-route.tsx",
          "app/api/auth/[...nextauth]/route.ts",
          "lib/auth-server.ts",
          "lib/password-utils.ts",
          "hooks/use-auth.ts",
          "types/auth.ts",
          "types/next-auth.d.ts"
        ]
      },
      {
        "name": "Articles/CMS System",
        "description": "Full content management system with article creation, editing, publishing, slug-based routing, SEO support, and featured images.",
        "files": [
          "app/articles/page.tsx",
          "app/articles/[slug]/page.tsx",
          "app/admin/articles/page.tsx",
          "components/admin/article-management.tsx",
          "hooks/use-articles.ts",
          "app/api/admin/articles/route.ts",
          "app/api/admin/articles/[id]/route.ts"
        ]
      },
      {
        "name": "Announcements System",
        "description": "Club event announcements with RSVP system, attendee management, location tracking, and scheduling.",
        "files": [
          "app/admin/announcements/page.tsx",
          "components/admin/announcement-management.tsx",
          "components/club-announcements.tsx",
          "hooks/use-announcements.ts",
          "app/api/announcements/route.ts",
          "app/api/announcements/[id]/route.ts",
          "app/api/announcements/[id]/attend/route.ts"
        ]
      },
      {
        "name": "Training Resources Library",
        "description": "Multi-format training resources (video, text, files) with categories, difficulty levels, search functionality, and progress tracking.",
        "files": [
          "app/dashboard/training/page.tsx",
          "hooks/use-training.ts",
          "lib/training.ts",
          "app/api/training/route.ts",
          "app/api/training/[id]/route.ts",
          "app/api/training/[id]/complete/route.ts",
          "app/api/training/[id]/progress/route.ts",
          "app/api/training/search/route.ts",
          "components/video-player.tsx",
          "lib/video-storage.ts"
        ]
      },
      {
        "name": "Calendar System",
        "description": "Event calendar with public and internal events, attendee management, RSVP functionality, and event scheduling.",
        "files": [
          "app/dashboard/calendar/page.tsx",
          "hooks/use-calendar.ts",
          "app/api/dashboard/calendar/route.ts",
          "app/api/dashboard/calendar/[id]/route.ts",
          "app/api/dashboard/calendar/[id]/attend/route.ts"
        ]
      },
      {
        "name": "Activity News System",
        "description": "News feed for club activities with creation, viewing, and management capabilities.",
        "files": [
          "app/activity-news/page.tsx",
          "components/activity-news-public.tsx",
          "hooks/use-activity-news.ts",
          "lib/activity-news.ts",
          "app/api/activity-news/route.ts",
          "app/api/activity-news/[id]/route.ts",
          "app/api/activity-news/[id]/publish/route.ts"
        ]
      },
      {
        "name": "AI Chat Assistant",
        "description": "Conversational AI support widget for campus navigation and information assistance.",
        "files": [
          "components/ai-chat.tsx",
          "components/ai-chat-widget.tsx",
          "app/api/chat/route.ts"
        ]
      },
      {
        "name": "User Management",
        "description": "Admin panel for user creation, role assignment, permission management, and user profile management.",
        "files": [
          "app/admin/users/page.tsx",
          "components/admin/user-management.tsx",
          "app/api/admin/users/route.ts",
          "app/api/admin/users/[id]/route.ts",
          "components/user-role-display.tsx",
          "lib/permissions.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "User dashboard with quick stats, recent activities, calendar overview, and personalized information.",
        "files": [
          "app/dashboard/page.tsx",
          "hooks/use-dashboard.ts",
          "lib/dashboard-data.ts",
          "app/api/dashboard/stats/route.ts",
          "app/api/dashboard/activities/route.ts",
          "app/api/dashboard/events/route.ts"
        ]
      },
      {
        "name": "Team Management",
        "description": "Team member directory with roles, contact information, and team activity tracking.",
        "files": [
          "app/dashboard/team/page.tsx",
          "lib/team-data.ts",
          "app/api/dashboard/team/route.ts",
          "app/api/dashboard/team/members/route.ts"
        ]
      },
      {
        "name": "Resource Hub",
        "description": "Curated external links organized by category with click tracking and resource management.",
        "files": [
          "app/admin/resources/page.tsx",
          "components/admin/resource-management.tsx",
          "components/resource-hub.tsx",
          "lib/resources.ts",
          "app/api/resources/route.ts"
        ]
      },
      {
        "name": "Categories System",
        "description": "Category management for organizing articles, resources, and training materials.",
        "files": [
          "app/admin/categories/page.tsx",
          "components/admin/category-management.tsx",
          "app/api/categories/route.ts",
          "prisma/seed-categories.ts"
        ]
      },
      {
        "name": "File Upload System",
        "description": "Secure file upload handling with validation, type checking, and storage management for documents, images, and videos.",
        "files": [
          "app/api/upload/route.ts",
          "lib/video-storage.ts"
        ]
      },
      {
        "name": "Notifications System",
        "description": "Real-time notification system for user alerts, announcements, and activity updates.",
        "files": [
          "hooks/use-notifications.ts",
          "lib/notification-service.ts",
          "app/api/notifications/route.ts",
          "components/notification-bar.tsx",
          "docs/NOTIFICATIONS.md"
        ]
      },
      {
        "name": "Settings Management",
        "description": "Application-wide settings configuration and management system.",
        "files": [
          "app/admin/settings/page.tsx",
          "components/admin/settings-management.tsx",
          "hooks/use-settings.ts",
          "lib/settings-service.ts",
          "app/api/settings/route.ts",
          "docs/SETTINGS_IMPLEMENTATION.md"
        ]
      },
      {
        "name": "IT System Management",
        "description": "IT infrastructure and system configuration management for administrators.",
        "files": [
          "app/admin/it-system/page.tsx",
          "components/admin/it-system-management.tsx"
        ]
      },
      {
        "name": "User Profile",
        "description": "User profile management with personal information, activity history, and preferences.",
        "files": [
          "app/dashboard/profile/page.tsx"
        ]
      },
      {
        "name": "Navigation System",
        "description": "Responsive navigation with role-based menu items, mobile support, and sidebar navigation.",
        "files": [
          "components/header.tsx",
          "components/main-nav.tsx",
          "components/mobile-nav.tsx",
          "components/sidebar.tsx",
          "components/role-based-nav.tsx"
        ]
      },
      {
        "name": "Admin Console",
        "description": "Comprehensive admin dashboard for managing all aspects of the application.",
        "files": [
          "app/admin/page.tsx",
          "app/admin/loading.tsx",
          "app/admin/error.tsx",
          "components/admin/admin-sidebar.tsx",
          "components/admin/admin-stats.tsx"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Global error handling with error boundaries, logging, and user-friendly error pages.",
        "files": [
          "components/error-boundary.tsx",
          "app/error.tsx",
          "app/not-found.tsx",
          "app/unauthorized/page.tsx",
          "lib/error-handler.ts",
          "lib/logger.ts"
        ]
      },
      {
        "name": "Loading States",
        "description": "Loading indicators and skeleton screens for improved user experience.",
        "files": [
          "components/loading-spinner.tsx",
          "components/skeleton-loader.tsx",
          "components/top-loading-bar.tsx",
          "components/loading-link.tsx",
          "app/loading.tsx"
        ]
      },
      {
        "name": "Theme System",
        "description": "Dark/light mode support with theme persistence and system preference detection.",
        "files": [
          "components/theme-provider.tsx",
          "app/providers.tsx"
        ]
      },
      {
        "name": "Security Features",
        "description": "Security headers, rate limiting, CSRF protection, input validation, and SQL injection prevention.",
        "files": [
          "lib/security-headers.ts",
          "lib/rate-limiter.ts",
          "lib/validation-schemas.ts",
          "next.config.mjs"
        ]
      },
      {
        "name": "Database Layer",
        "description": "Prisma ORM integration with MySQL, connection pooling, migrations, and seeding.",
        "files": [
          "lib/prisma.ts",
          "lib/database.ts",
          "lib/database-lock.ts",
          "prisma/schema.prisma",
          "prisma/seed.ts",
          "prisma/migrations/20250114053607_init/migration.sql"
        ]
      },
      {
        "name": "Performance Optimization",
        "description": "Performance monitoring, caching strategies, and optimization utilities.",
        "files": [
          "lib/performance.ts",
          "next.config.mjs"
        ]
      },
      {
        "name": "UI Components Library",
        "description": "Comprehensive set of reusable UI components based on shadcn/ui and Radix UI.",
        "files": [
          "components/ui/button.tsx",
          "components/ui/card.tsx",
          "components/ui/dialog.tsx",
          "components/ui/dropdown-menu.tsx",
          "components/ui/form.tsx",
          "components/ui/input.tsx",
          "components/ui/select.tsx",
          "components/ui/table.tsx",
          "components/ui/tabs.tsx",
          "components/ui/toast.tsx",
          "components/ui/alert.tsx",
          "components/ui/badge.tsx",
          "components/ui/avatar.tsx",
          "components/ui/calendar.tsx",
          "components/ui/checkbox.tsx",
          "components/ui/label.tsx",
          "components/ui/progress.tsx",
          "components/ui/separator.tsx",
          "components/ui/switch.tsx",
          "components/ui/textarea.tsx",
          "components/ui/tooltip.tsx"
        ]
      },
      {
        "name": "Utility Functions",
        "description": "Common utility functions for string manipulation, date formatting, and class name management.",
        "files": [
          "lib/utils.ts",
          "components/icons.tsx"
        ]
      },
      {
        "name": "Browser Extension Cleanup",
        "description": "Utility to clean up browser extension artifacts for better performance.",
        "files": [
          "components/browser-extension-cleanup.tsx",
          "lib/browser-extension-cleanup.ts",
          "hooks/use-browser-extension-safe.ts"
        ]
      },
      {
        "name": "Hydration Safety",
        "description": "Client-side hydration safety mechanisms to prevent hydration mismatches.",
        "files": [
          "components/hydration-safe-wrapper.tsx",
          "hooks/use-hydration.ts"
        ]
      },
      {
        "name": "Page Transitions",
        "description": "Smooth page transition animations using Framer Motion.",
        "files": [
          "components/page-transition.tsx"
        ]
      },
      {
        "name": "Footer Sitemap",
        "description": "Site navigation footer with organized links and information.",
        "files": [
          "components/footer-sitemap.tsx"
        ]
      },
      {
        "name": "Maintenance Mode",
        "description": "Maintenance page for scheduled downtime and system updates.",
        "files": [
          "components/maintenance-page.tsx"
        ]
      },
      {
        "name": "Homepage",
        "description": "Main landing page with hero section, features overview, and call-to-action.",
        "files": [
          "app/page.tsx"
        ]
      },
      {
        "name": "Mobile Responsiveness",
        "description": "Mobile-first responsive design with device detection and adaptive UI.",
        "files": [
          "hooks/use-mobile.ts"
        ]
      },
      {
        "name": "Toast Notifications",
        "description": "Toast notification system for user feedback and alerts.",
        "files": [
          "hooks/use-toast.ts",
          "components/ui/toaster.tsx"
        ]
      }
    ]
  }
}
