{
  "meta": {
    "project": "MMW Hubix - School Information Portal",
    "date": "2025-11-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "MMW Hubix is a modern, centralized web portal designed for C.C.C. Mong Man Wai College to consolidate essential school information, resources, tools, and administrative functionalities. It serves public users, students, teachers, IT prefects, and administrators by providing a comprehensive resource hub, AI assistant, training library, event management, and admin content management system.",
  "core_goals": [
    "Provide a unified, modern platform replacing legacy IT prefect websites for both public and internal uses.",
    "Enhance accessibility to curated school resources, announcements, and training materials through a clean, responsive UI.",
    "Enable role-based authentication and authorization to protect internal systems for IT prefects and admins.",
    "Offer a powerful admin console to manage users, resource categories, content, and site configurations.",
    "Integrate an AI chat assistant to improve user engagement and support campus navigation and IT help.",
    "Ensure system security, stability and maintainability with robust middleware, structured logging, and error monitoring.",
    "Support flexible deployment with clear guides and database setup for development and production."
  ],
  "key_features": [
    "Public Resource Hub with curated, categorized links and training resources, enhanced with dynamic visual icon and color pickers.",
    "AI Chat Assistant Widget globally accessible via floating button with smooth animations and retry rate-limit handling.",
    "Role-Based Authentication and Authorization with username-only login, multiple user roles (ADMIN, HELPER, STUDENT, GUEST), and protected routes.",
    "Admin Console for managing users, resource categories, training materials, articles, and system settings with real-time updates and validation.",
    "IT Prefect Hub Dashboard providing internal team communication, event calendar, task assignments, and training library.",
    "Activity News & Announcements system for public club events with RSVP, visual progress bars, and modern card UI.",
    "User Profile & Settings page allowing profile updates, password changes, and user preferences with secure access control.",
    "Comprehensive database schema supporting multi-format training resources, categorized content, event management, history timelines, and audit trails.",
    "Robust backend architecture using Next.js API routes, Prisma ORM, and middleware for enterprise-level security, permissions, and performance.",
    "Responsive and accessible UI design using React 18, Next.js 15 with App Router, Tailwind CSS, and shadcn/ui components."
  ],
  "user_flow_summary": [
    "Public visitors access the homepage resource hub to browse categorized educational resources and announcements without login.",
    "Users interact with the AI Chat Assistant by clicking the floating button, initiating a conversation for campus info or IT support.",
    "Authenticated users (IT prefects and admins) log in via username-based authentication, redirecting to specialized dashboards.",
    "Admins navigate to category and resource management UIs, performing CRUD operations with icon and color customization.",
    "IT prefect users use the dashboard to view tasks, training materials, and internal communications.",
    "Admins manage user accounts with batch editing, role assignment, and bulk deletion while ensuring permission guards restrict access.",
    "All users access their personal profile page to update info, change passwords, or set preferences securely.",
    "Event attendees view activity news and club announcements with RSVP functionality directly on the public site.",
    "System settings are adjusted in real-time by admins to customize site behavior, security policies, and backup configurations.",
    "Developers deploy and maintain the system via guided database migrations, environment configuration, and quality assurance scripts."
  ],
  "validation_criteria": [
    "All public-facing pages render correctly with responsive design across devices and browsers.",
    "User authentication and role-based access control prevent unauthorized access to protected routes.",
    "Admin CRUD operations for users, categories, resources, articles, and settings perform with full validation and error handling.",
    "AI Chat Assistant handles API rate limits gracefully, performs retries, and surfaces meaningful user messages on failure.",
    "Database schema changes sync correctly via Prisma migrations or db push, with no data loss or corruption.",
    "All API endpoints adhere to request/response specs defined in API documentation, with proper authentication.",
    "UI components meet accessibility standards with keyboard navigation, screen reader support, and appropriate contrast.",
    "Comprehensive testing includes Playwright end-to-end tests, TypeScript type checking, linting, and build verification.",
    "Real-time updates for system settings and content changes propagate without requiring site restarts.",
    "Logging and error monitoring capture client, server, and edge runtime issues with actionable diagnostics."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 18",
      "Next.js 15 (App Router)",
      "Node.js",
      "Tailwind CSS",
      "shadcn/ui (Radix + Tailwind)",
      "Prisma ORM (MySQL)",
      "NextAuth.js (username-only auth)",
      "Zod (validation)",
      "React Hook Form",
      "Recharts (charts)",
      "React Data Grid (tables)",
      "Playwright (e2e tests)"
    ],
    "features": [
      {
        "name": "Public Resource Hub",
        "description": "Homepage resource hub showing curated links, categories, and training resources for students and staff.",
        "files": [
          "app/page.tsx",
          "components/resource-hub.tsx",
          "components/ui/icon-picker.tsx",
          "components/ui/color-picker.tsx",
          "lib/favicon-utils.ts",
          "app/api/resources/route.ts",
          "app/api/categories/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "AI Chat Assistant Widget",
        "description": "Floating AI assistant button and chat panel integrated globally, backed by the /api/chat OpenRouter endpoint.",
        "files": [
          "components/ai-chat-widget.tsx",
          "app/providers.tsx",
          "app/api/chat/route.ts"
        ]
      },
      {
        "name": "Role-Based Authentication & Authorization",
        "description": "Username-based login with ADMIN, HELPER, IT_PREFECT/STUDENT roles and permission-guarded routes and navigation.",
        "files": [
          "lib/permissions.ts",
          "lib/auth-middleware.ts",
          "hooks/use-auth-permissions.ts",
          "components/role-based-nav.tsx",
          "components/user-role-display.tsx",
          "components/auth/unified-login-dialog.tsx",
          "app/unauthorized/page.tsx",
          "app/api/auth/[...nextauth]/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Admin Category & Resource Management",
        "description": "Admin UI to manage resource categories, icons, colors, and individual resources with visual icon/color pickers.",
        "files": [
          "components/admin/category-management.tsx",
          "components/admin/resource-management.tsx",
          "components/ui/icon-picker.tsx",
          "components/ui/color-picker.tsx",
          "app/api/admin/categories/route.ts",
          "app/api/admin/categories/meta/route.ts",
          "app/api/resources/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Training Library (Video, Text, File)",
        "description": "IT Perfect training hub supporting multi-type resources: videos, rich text, and document/file uploads.",
        "files": [
          "components/dashboard/training-library.tsx",
          "lib/training-resources.ts",
          "hooks/use-training-resources.ts",
          "app/api/training-resources/route.ts",
          "app/api/upload/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "IT Perfect Hub Dashboard",
        "description": "Dashboard view for IT Perfect members with quick access to tasks, training, and internal tools.",
        "files": [
          "components/dashboard/it-perfect-hub.tsx",
          "app/(dashboard)/it-perfect/page.tsx",
          "lib/permissions.ts",
          "hooks/use-auth-permissions.ts"
        ]
      },
      {
        "name": "Activity News & Announcements",
        "description": "Public activity and announcement listing for school events and club updates.",
        "files": [
          "app/activity-news/page.tsx",
          "app/api/announcements/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Global Layout, Navigation & Footer Sitemap",
        "description": "Application shell with header navigation, global providers, and an accessible sitemap footer.",
        "files": [
          "app/layout.tsx",
          "app/providers.tsx",
          "components/role-based-nav.tsx",
          "components/footer-sitemap.tsx",
          "components/icons.tsx"
        ]
      }
    ]
  }
}
