{
  "meta": {
    "project": "MMW Hubix - School Information Portal",
    "date": "2025-10-18",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "MMW Hubix is a modern, centralized web portal designed for C.C.C. Mong Man Wai College to unify essential school information, resources, and administrative tools for students, teachers, and IT staff. It features public access to school resources, a dynamic AI assistant, club announcements, and a secure internal IT Prefect system including dashboards and administrative content management.",
  "core_goals": [
    "Provide a unified platform consolidating public and internal school information and tools.",
    "Deliver role-based access control supporting public users, IT Prefects, and Admins.",
    "Offer a dynamic Resource Hub with searchable, categorized resources enhanced by click analytics.",
    "Enable effective management of school events, tasks, and team activities within a secured dashboard.",
    "Provide a comprehensive admin console for content, user, category, and system settings management.",
    "Ensure security, performance, and accessibility with modern tech stack and best practices.",
    "Support a responsive, intuitive, and branded UX suitable for diverse users and devices."
  ],
  "key_features": [
    "Authentication System with username-based login and role-based access control (ADMIN, HELPER, GUEST).",
    "Public Resource Hub with dynamic categories, search filtering, and visual enhancements including click tracking.",
    "Club Announcements with RSVP and attendance tracking shown as progress bars.",
    "AI Chat Assistant as an engaging floating chatbot for campus navigation and IT support.",
    "User Profile & Settings including password changes and user preferences like themes.",
    "IT Prefect Dashboard featuring team mission, calendars, training library, events, tasks, activities, and team notes.",
    "Admin Console for user management (inline editing, batch actions, undo/redo), category management with icons and colors, article CMS with workflow and SEO, and system settings with real-time updates and backup options.",
    "Notification System providing real-time alerts with priorities and read status.",
    "Dual Calendar System for both public and internal events with attendee management.",
    "File Upload System with validation and secure storage.",
    "UI and Theme components leveraging modern libraries for consistency and accessibility."
  ],
  "user_flow_summary": [
    "Public users access the Resource Hub and Club Announcements without login, utilizing search and category filters.",
    "Users can interact with the AI Chat Assistant via a floating button to obtain campus navigation and support information.",
    "Authenticated IT Prefects log in via username-based credentials to access their dashboards, including profile management.",
    "IT Prefects manage events, tasks, and activities, with updates reflected in shared team calendars.",
    "Administrators access the admin console to perform user management, category setup, article content editing, and adjust system settings.",
    "Users update personal information and change passwords securely with validated forms and server checks.",
    "Admins create and manage categories, resources, and announcements, enforcing access control and content status workflows."
  ],
  "validation_criteria": [
    "All API endpoints enforce role-based permissions and validate inputs using centralized Zod schemas.",
    "Resource categories and items display correctly with accurate sorting and active status filtering.",
    "User authentication processes handle session management correctly including password changes and logout.",
    "Admin interfaces support bulk actions, inline editing, and undo/redo with accurate data synchronization.",
    "Event RSVP and attendance tracking update properly and show correct UI progress indicators.",
    "System settings changes are stored in the database and propagate in real-time across the site.",
    "UI components render consistently across desktop, tablet, and mobile, adhering to accessibility standards.",
    "Security measures including CSRF protection, rate limiting, and session timeout are effective.",
    "All database migrations apply cleanly and data integrity is maintained during updates.",
    "Automated testing (e.g., Playwright) covers critical workflows and forms to ensure stability."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 15 (App Router)",
      "React 18",
      "MySQL 8",
      "Prisma 6.14",
      "NextAuth.js 4",
      "Tailwind CSS 4",
      "shadcn/ui",
      "Zod",
      "React Hook Form",
      "Lucide React",
      "Recharts",
      "Playwright"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "Username-based authentication with role-based access control (ADMIN, HELPER, GUEST) using NextAuth.js",
        "files": [
          "auth.ts",
          "lib/auth-server.ts",
          "lib/permissions.ts",
          "lib/password-utils.ts",
          "hooks/use-auth.ts",
          "components/auth/session-provider.tsx",
          "components/auth/simple-login-dialog.tsx",
          "components/auth/user-menu.tsx",
          "app/api/auth/[...nextauth]/route.ts"
        ]
      },
      {
        "name": "Resource Hub (Public)",
        "description": "Public resource management system with dynamic categories, search, click tracking, and visual indicators",
        "files": [
          "components/resource-hub.tsx",
          "lib/resources.ts",
          "app/api/resources/route.ts",
          "app/api/categories/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Category Management",
        "description": "Admin system for managing resource categories with icons, colors, sorting, and status control",
        "files": [
          "components/admin/category-management.tsx",
          "app/admin/categories/page.tsx",
          "app/api/admin/categories/route.ts",
          "app/api/admin/categories/meta/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Activity News / Announcements",
        "description": "Public club announcement system with RSVP registration, attendee management, and activity tracking",
        "files": [
          "components/activity-news-public.tsx",
          "components/admin/activity-news-management.tsx",
          "components/admin/activity-registrations.tsx",
          "lib/activity-news.ts",
          "hooks/use-activity-news.ts",
          "app/activity-news/page.tsx",
          "app/api/activity-news/route.ts",
          "app/api/activity-news/[id]/route.ts",
          "app/api/activity-news/[id]/register/route.ts",
          "app/api/admin/activity-registrations/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Article CMS",
        "description": "Content management system with draft/published/archived workflow, slug generation, and SEO features",
        "files": [
          "components/admin/article-management.tsx",
          "hooks/use-articles.ts",
          "app/admin/articles/page.tsx",
          "app/articles/page.tsx",
          "app/articles/[slug]/page.tsx",
          "app/api/admin/articles/route.ts",
          "app/api/admin/articles/[id]/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Training Library",
        "description": "Multi-format training resource system supporting videos, text articles, and file uploads with categorization",
        "files": [
          "components/dashboard/training-library.tsx",
          "lib/training.ts",
          "hooks/use-training.ts",
          "app/api/training/route.ts",
          "app/api/training/[id]/route.ts",
          "app/api/training/[id]/view/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "User Management",
        "description": "Admin interface for managing users with inline editing, batch operations, and role assignment",
        "files": [
          "components/admin/add-user-form.tsx",
          "components/admin/user-management.tsx",
          "app/admin/users/page.tsx",
          "app/api/admin/users/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "User Profile & Settings",
        "description": "User profile management with password change, preferences, and personal information editing",
        "files": [
          "components/dashboard/user-profile.tsx",
          "app/dashboard/profile/page.tsx",
          "app/api/dashboard/profile/route.ts",
          "app/api/dashboard/profile/password/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "System Settings",
        "description": "Database-backed site configuration with categories (General, Security, Notifications, Backup)",
        "files": [
          "components/admin/settings-management.tsx",
          "lib/settings-service.ts",
          "hooks/use-settings.ts",
          "app/admin/settings/page.tsx",
          "app/api/settings/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Calendar System",
        "description": "Dual calendar system for public events and internal team events with attendee management",
        "files": [
          "components/dashboard/internal-calendar.tsx",
          "hooks/use-calendar.ts",
          "app/dashboard/calendar/page.tsx",
          "app/api/dashboard/calendar/route.ts",
          "app/api/public/events/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Task Management",
        "description": "Task assignment and tracking system with priorities, due dates, and status management",
        "files": [
          "components/dashboard/task-management.tsx",
          "app/dashboard/tasks/page.tsx",
          "app/api/dashboard/tasks/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Activity Management",
        "description": "Team activity tracking with assignment, priority levels, and status workflow",
        "files": [
          "components/dashboard/activities.tsx",
          "app/dashboard/activities/page.tsx",
          "app/api/dashboard/activities/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Team Information",
        "description": "Team dashboard with mission statement, organizational structure, and collaborative notes",
        "files": [
          "components/dashboard/team-information.tsx",
          "lib/team-data.ts",
          "app/dashboard/team/page.tsx",
          "app/api/dashboard/team-notes/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "Notification System",
        "description": "Real-time notification system with types, priorities, read status, and user targeting",
        "files": [
          "components/notification-bar.tsx",
          "lib/notification-service.ts",
          "hooks/use-notifications.ts",
          "app/api/notifications/route.ts",
          "app/api/test-notification/route.ts",
          "prisma/schema.prisma"
        ]
      },
      {
        "name": "AI Chat Assistant",
        "description": "Floating chatbot for campus navigation, schedules, policies, and IT support",
        "files": [
          "components/ai-chat.tsx",
          "app/api/chat/route.ts"
        ]
      },
      {
        "name": "File Upload System",
        "description": "Secure file upload handling with validation, type checking, and organized storage",
        "files": [
          "lib/video-storage.ts",
          "app/api/upload/route.ts",
          "public/uploads/"
        ]
      },
      {
        "name": "Dashboard Layout",
        "description": "Main dashboard layout with role-based navigation and sidebar",
        "files": [
          "components/dashboard/dashboard-layout.tsx",
          "lib/dashboard-data.ts",
          "hooks/use-dashboard.ts",
          "app/dashboard/layout.tsx",
          "app/dashboard/page.tsx"
        ]
      },
      {
        "name": "Navigation System",
        "description": "Main and mobile navigation with role-based visibility and authentication state",
        "files": [
          "components/main-nav.tsx",
          "components/mobile-nav.tsx",
          "components/role-based-nav.tsx",
          "components/sidebar.tsx",
          "components/header.tsx"
        ]
      },
      {
        "name": "Footer Sitemap",
        "description": "Comprehensive footer with organized links, accessibility features, and social media integration",
        "files": [
          "components/footer-sitemap.tsx"
        ]
      },
      {
        "name": "Form Validation",
        "description": "Centralized Zod schemas for input validation across all forms and API endpoints",
        "files": [
          "lib/validation-schemas.ts"
        ]
      },
      {
        "name": "Security & Rate Limiting",
        "description": "Security headers, rate limiting, and CSRF protection for API endpoints",
        "files": [
          "lib/rate-limiter.ts",
          "lib/security-headers.ts"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Centralized error handling, logging, and error boundary components",
        "files": [
          "lib/error-handler.ts",
          "lib/logger.ts",
          "components/error-boundary.tsx"
        ]
      },
      {
        "name": "Database Management",
        "description": "Prisma ORM configuration with MySQL, migrations, seeding, and connection pooling",
        "files": [
          "lib/prisma.ts",
          "lib/database.ts",
          "lib/database-lock.ts",
          "prisma/schema.prisma",
          "prisma/seed.ts"
        ]
      },
      {
        "name": "UI Components Library",
        "description": "shadcn/ui component library with customized components for consistent design",
        "files": [
          "components/ui/accordion.tsx",
          "components/ui/alert.tsx",
          "components/ui/alert-dialog.tsx",
          "components/ui/avatar.tsx",
          "components/ui/badge.tsx",
          "components/ui/button.tsx",
          "components/ui/calendar.tsx",
          "components/ui/card.tsx",
          "components/ui/checkbox.tsx",
          "components/ui/collapsible.tsx",
          "components/ui/command.tsx",
          "components/ui/context-menu.tsx",
          "components/ui/dialog.tsx",
          "components/ui/dropdown-menu.tsx",
          "components/ui/form.tsx",
          "components/ui/hover-card.tsx",
          "components/ui/input.tsx",
          "components/ui/label.tsx",
          "components/ui/menubar.tsx",
          "components/ui/navigation-menu.tsx",
          "components/ui/popover.tsx",
          "components/ui/progress.tsx",
          "components/ui/radio-group.tsx",
          "components/ui/scroll-area.tsx",
          "components/ui/select.tsx",
          "components/ui/separator.tsx",
          "components/ui/sheet.tsx",
          "components/ui/skeleton.tsx",
          "components/ui/slider.tsx",
          "components/ui/sonner.tsx",
          "components/ui/switch.tsx",
          "components/ui/table.tsx",
          "components/ui/tabs.tsx",
          "components/ui/textarea.tsx",
          "components/ui/toast.tsx",
          "components/ui/toaster.tsx",
          "components/ui/toggle.tsx",
          "components/ui/toggle-group.tsx",
          "components/ui/tooltip.tsx"
        ]
      },
      {
        "name": "Utility Components",
        "description": "Reusable utility components for loading states, hydration, and browser compatibility",
        "files": [
          "components/loading-spinner.tsx",
          "components/skeleton-loader.tsx",
          "components/hydration-safe-wrapper.tsx",
          "components/browser-extension-cleanup.tsx",
          "components/page-transition.tsx",
          "components/protected-route.tsx",
          "components/maintenance-page.tsx",
          "hooks/use-hydration.ts",
          "hooks/use-mobile.ts",
          "hooks/use-browser-extension-safe.ts",
          "lib/browser-extension-cleanup.ts"
        ]
      },
      {
        "name": "Theme System",
        "description": "Dark/light theme support with next-themes integration",
        "files": [
          "components/theme-provider.tsx",
          "app/providers.tsx"
        ]
      },
      {
        "name": "Admin Console",
        "description": "Centralized admin dashboard for managing all site content and settings",
        "files": [
          "app/admin/page.tsx",
          "app/admin/layout.tsx"
        ]
      },
      {
        "name": "API Health Check",
        "description": "Health monitoring endpoint for system status and database connectivity",
        "files": [
          "app/api/health/route.ts"
        ]
      }
    ]
  }
}
